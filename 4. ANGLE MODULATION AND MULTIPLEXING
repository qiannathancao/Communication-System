ANGLE MODULATION AND MULTIPLEXING
In the previous chapter, we considered analog linear modulation. We now consider angle modu- lation. 
To generate angle modulation, the amplitude of the modulated carrier is held constant and either the 
phase or the time derivative of the phase of the carrier is varied linearly with the message signal ğ’(ğ’•). 
These lead to phase modulation (PM) or frequency modulation (FM), respectively.

The most efficient technique for demodulating angle modulated signals is the phase-locked loop (PLL). 
The PLL is ubiquitous in modern communication systems. Both analog systems and, 
as we will see later, digital systems make extensive use of PLLs. 
Because of the importance of the PLL, we give considerable emphasis to it in this chapter.

4.1 PHASE AND FREQUENCY MODULATION DEFINED
  ğ‘¥ğ‘(ğ‘¡) = ğ´ğ‘ cos[2ğœ‹ğ‘“ğ‘ğ‘¡ + ğœ™(ğ‘¡)]
  ğœƒğ‘–(ğ‘¡) = 2ğœ‹ğ‘“ğ‘ğ‘¡ + ğœ™(ğ‘¡)
  
  phase modulation: ğœ™(ğ‘¡) = ğ‘˜ğ‘ğ‘š(ğ‘¡)
  frequency modulation: ğœ™(ğ‘¡) = ğ‘˜ğ‘“ âˆ« ğ‘š(ğ›¼)ğ‘‘ğ›¼ + ğœ™0
  
  where ğ‘˜ğ‘“ = 2ğœ‹ğ‘“ğ‘‘: 
  (ğ‘“ğ‘‘ is known as the frequency-deviation constant)
  
  Phase modulator output is: ğ‘¥ğ‘(ğ‘¡) = ğ´ğ‘ cos[2ğœ‹ğ‘“ğ‘ğ‘¡ + ğ‘˜ğ‘ğ‘š(ğ‘¡)]
  Frequency modulator output is: ğ‘¥ğ‘(ğ‘¡) = ğ´ğ‘ cos [2ğœ‹ğ‘“ğ‘ğ‘¡ + 2ğœ‹ğ‘“ğ‘‘ âˆ« ğ‘š(ğ›¼)ğ‘‘ğ›¼]
  
4.1.1 Narrowband Angle Modulation
    ğ‘¥ğ‘(ğ‘¡) = Re(ğ´ğ‘ğ‘’ğ‘—ğœ™(ğ‘¡)ğ‘’ğ‘—2ğœ‹ğ‘“ğ‘ğ‘¡)
  Modulated carrier can be approximated as:    
    ğ‘¥ğ‘(ğ‘¡) â‰… Re[ğ´ğ‘ğ‘’ğ‘—2ğœ‹ğ‘“ğ‘ğ‘¡ + ğ´ğ‘ğœ™(ğ‘¡)ğ‘—ğ‘’ğ‘—2ğœ‹ğ‘“ğ‘ğ‘¡]
  Taking the real part:
    ğ‘¥ğ‘ (ğ‘¡) â‰… ğ´ğ‘ cos(2ğœ‹ğ‘“ğ‘ ğ‘¡) âˆ’ ğ´ğ‘ ğœ™(ğ‘¡) sin(2ğœ‹ğ‘“ğ‘ ğ‘¡)

4.1.2 Spectrum of an Angle-Modulated Signal
  In order to compute the spectrum of an angle-modulated signal with a sinusoidal message signal, we assume that
    ğœ™(ğ‘¡) = ğ›½ sin(2ğœ‹ğ‘“ğ‘šğ‘¡)  
  The parameter ğ›½ is known as the modulation index and is the maximum phase deviation for
  both FM and PM. The signal
    ğ‘¥ğ‘(ğ‘¡) = ğ´ğ‘ cos[2ğœ‹ğ‘“ğ‘ğ‘¡ + ğ›½ sin(2ğœ‹ğ‘“ğ‘šğ‘¡)]
 => ğ‘¥ğ‘(ğ‘¡) = Re[ğ‘¥Ìƒğ‘(ğ‘¡)ğ‘’ğ‘—2ğœ‹ğ‘“ğ‘ğ‘¡]
 
 The integral is a function of ğ‘› and ğ›½ and is known as the Bessel function 
 of the first kind of order ğ‘› and argument ğ›½
   ğ‘¥ğ‘(ğ‘¡)= ğ´ğ‘ âˆ‘ ğ½ğ‘›(ğ›½)cos[2ğœ‹(ğ‘“ğ‘ +ğ‘›ğ‘“ğ‘š)ğ‘¡]
 definition of ğ½ğ‘›(ğ›½) it can be determined that
   ğ½âˆ’ğ‘›(ğ›½) = ğ½ğ‘›(ğ›½), ğ‘› even 
   ğ½âˆ’ğ‘›(ğ›½) = âˆ’ğ½ğ‘›(ğ›½), ğ‘› odd
   
4.1.3 Power in an Angle-Modulated Signal
  âŸ¨ğ‘¥2ğ‘(ğ‘¡)âŸ© = ğ´2ğ‘âŸ¨cos2[2ğœ‹ğ‘“ğ‘ğ‘¡ + ğœ™(ğ‘¡)]âŸ©
=>âŸ¨ğ‘¥ğ‘^2(ğ‘¡)âŸ© = (ğ´ğ‘^2)/2

4.1.4 Bandwidth of Angle-Modulated Signals
  ğ½ğ‘›(ğ›½) â‰ˆ ğ›½ğ‘›/(2^ğ‘›)ğ‘›!
  For fixed ğ›½, lim ğ½ğ‘›(ğ›½) = 0, ğ‘›â†’âˆ
  The power ratio ğ‘ƒğ‘Ÿ is defined as: ğ‘ƒğ‘Ÿ = ğ½02(ğ›½) + 2âˆ‘ğ½ğ‘›2(ğ›½), ğ‘˜~ğ‘›=1
  Resulting bandwidth is ğµ = 2ğ‘˜ğ‘“ğ‘š
  => ğµ â‰… 2(ğ›½ + 1)ğ‘“ğ‘š
  Bandwidth results if the deviation ratio ğ· is defined as: ğ· = peak frequency deviation / bandwidth of ğ‘š(ğ‘¡)
  => ğ· = ğ‘“ğ‘‘ (max | ğ‘š(ğ‘¡)|) / ğ‘Š
  Replacing ğ›½ by ğ· and replacing ğ‘“ğ‘š by ğ‘Š: 
  => ğµ = 2(ğ· + 1)ğ‘Š
  
4.1.5 Narrowband-to-Wideband Conversion
  Narrowband FM signal: 
  Carrier frequency = fc1
  Peak frequency deviation = fd1 
  Deviation ratio = D1
  >>
  Wideband FM signal:
  Carrier frequency = fc2 = nfc1
  Peak frequency deviation = fd2 = nfd1 
  Deviation ratio = D2 = nD1
  
  Input of a frequency multiplier is:     ğ‘¥(ğ‘¡) = ğ´ğ‘ cos[2ğœ‹ğ‘“0ğ‘¡ + ğœ™(ğ‘¡)]
  Output of the frequency multiplier is:  ğ‘¦(ğ‘¡) = ğ´ğ‘ cos[2ğœ‹ğ‘›ğ‘“0ğ‘¡ + ğ‘›ğœ™(ğ‘¡)]
  Assuming that the output of the local oscillator is: ğ‘’LO(ğ‘¡) = 2 cos(2ğœ‹ğ‘“LOğ‘¡)
=>ğ‘“ğ‘ =ğ‘›ğ‘“0 +ğ‘“LO or ğ‘“ğ‘ =ğ‘›ğ‘“0 âˆ’ğ‘“LO
=>ğ‘¥ğ‘(ğ‘¡) = ğ´ğ‘ cos[2ğœ‹ğ‘“ğ‘ğ‘¡ + ğ‘›ğœ™(ğ‘¡)] 

4.2 DEMODULATION OF ANGLE-MODULATED SIGNALS  
  circuits are known as frequency discriminators (demodulator)
  input to an ideal discriminator is the angle-modulated signal: ğ‘¥ğ‘Ÿ(ğ‘¡) = ğ´ğ‘ cos[2ğœ‹ğ‘“ğ‘ğ‘¡ + ğœ™(ğ‘¡)]
  output of the ideal discriminator is: ğ‘¦ğ·(ğ‘¡)= 1/2ğœ‹ Kğ· ğ‘‘ğœ™/ğ‘‘ğ‘¡
  
  PM discriminator as: ğ‘¦ğ·(ğ‘¡) = ğ¾ğ·ğ‘˜ğ‘ğ‘š(ğ‘¡)
  output of the envelope detector is: ğ‘¦ğ· (ğ‘¡)=ğ´ğ‘ ğ‘‘ğœ™/ğ‘‘ğ‘¡ = 2ğœ‹ğ´ğ‘ ğ‘“ğ‘‘ğ‘š(ğ‘¡) 
  
  Assuming transfer function is:
  ğ»(ğ‘“) = ğ‘…/(ğ‘… + 1âˆ•ğ‘—2ğœ‹ğ‘“ğ¶) = ğ‘—2ğœ‹ğ‘“ğ‘…ğ¶ / (1 + ğ‘—2ğœ‹ğ‘“ğ‘…ğ¶)
  Transfer function can be approximated by: ğ»(ğ‘“) = ğ‘—2ğœ‹ğ‘“ğ‘…ğ¶
  Then: ğ¾ğ· = 2ğœ‹ğ´ğ‘ğ‘…ğ¶
  
4.3 FEEDBACK DEMODULATORS: THE PHASE-LOCKED LOOP
Phase-locked loops are widely used in todayâ€™s communication systems, 
not only for demodulation of angle- modulated signals but also for carrier and symbol synchronization.

4.3.1 Phase-Locked Loops for FM and PM Demodulation
  A block diagram of a PLL is shown in Figure 4.18. The basic PLL contains four basic elements. These are
  1. Phase detector
  2. Loop filter
  3. Loop amplifier (assume ğœ‡ = 1)
  4. Voltage-controlled oscillator (VCO).
  
  Assume that the input signal is given by: ğ‘¥ğ‘Ÿ(ğ‘¡) = ğ´ğ‘ cos[2ğœ‹ğ‘“ğ‘ğ‘¡ + ğœ™(ğ‘¡)]
  VCO output signal is given by: ğ‘’0(ğ‘¡) = ğ´ğ‘£ sin[2ğœ‹ğ‘“ğ‘ğ‘¡ + ğœƒ(ğ‘¡)]
  
  A VCO is essentially a frequency modulator in which the frequency deviation of the output, 
  ğ‘‘ğœƒâˆ•ğ‘‘ğ‘¡, is proportional to the VCO input signal.
  ğ‘‘ğœƒ/ğ‘‘ğ‘¡ = ğ¾ğ‘£ ğ‘’ğ‘£(ğ‘¡) radâˆ•ğ‘  
  ğœƒ(ğ‘¡) = ğ¾ğ‘£ âˆ« ğ‘’ğ‘£(ğ›¼)ğ‘‘ğ›¼ , ğ¾ğ‘£ is known as the VCO constan
  loop gain ğ¾ğ‘¡ = 1/2 ğ´ğ‘£ğ´ğ‘ğ¾ğ‘‘ğ¾ğ‘£, input signal amplitude ğ´ğ‘£
  
4.4 INTERFERENCE IN ANGLE MODULATION
  Input to the discriminator is assumed to have the form: 
  ğ‘¥ğ‘¡(ğ‘¡) = ğ´ğ‘ cos(2ğœ‹ğ‘“ğ‘ğ‘¡) + ğ´ğ‘– cos[2ğœ‹(ğ‘“ğ‘ + ğ‘“ğ‘–)ğ‘¡]
       = ğ´ğ‘ cos(2ğœ‹ğ‘“ğ‘–ğ‘¡) + ğ´ğ‘– cos(2ğœ‹ğ‘“ğ‘–ğ‘¡) cos(2ğœ‹ğ‘“ğ‘ğ‘¡) âˆ’ ğ´ğ‘– sin(2ğœ‹ğ‘“ğ‘–) sin(2ğœ‹ğ‘“ğ‘ğ‘¡)
  Preceding expression in magnitude and phase form gives: 
  ğ‘¥ğ‘Ÿ(ğ‘¡) = ğ‘…(ğ‘¡) cos[2ğœ‹ğ‘“ğ‘ğ‘¡ + ğœ“(ğ‘¡)]     
  
  Amplitude ğ‘…(ğ‘¡) is given by: 
    ğ‘…(ğ‘¡) =âˆš([ğ´ğ‘ + ğ´ğ‘– cos(2ğœ‹ğ‘“ğ‘–ğ‘¡)]^2 + [ğ´ğ‘– sin(2ğœ‹ğ‘“ğ‘–ğ‘¡)]^2)
  Phase deviation ğœ“(ğ‘¡) is given by:
    ğœ“(ğ‘¡) = tanâˆ’1(ğ´ğ‘– sin(2ğœ‹ğ‘“ğ‘–ğ‘¡)/[ğ´ğ‘ + ğ´ğ‘– cos(2ğœ‹ğ‘“ğ‘–ğ‘¡)] )
  If ğ´ğ‘ â‰« ğ´ğ‘–, ğ‘…(ğ‘¡) = ğ´ğ‘ + ğ´ğ‘– cos(2ğœ‹ğ‘“ğ‘–ğ‘¡)
  and ğœ“(ğ‘¡) = ğ´ğ‘–/ğ´ğ‘ + ğ´ğ‘– cos(2ğœ‹ğ‘“ğ‘–ğ‘¡)
  ğ‘¦ğ·(ğ‘¡)=ğ¾ğ· ğ´ğ‘–/ğ´ğ‘ ğ‘“ğ‘–cos(2ğœ‹ğ‘“ğ‘¡)
  
